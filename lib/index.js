"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(exports,"__esModule",{value:!0});var e=t(require("react")),n=require("draft-js"),r=t(require("katex"));function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?v(t):e}function m(t){return function(){var e,n=h(t);if(y()){var r=h(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return _(this,e)}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function g(t,e){return t(e={exports:{}},e.exports),e.exports}var b=g((function(t,e){t.exports=function(){var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function n(t){return a(t)?t:U(t)}function r(t){return u(t)?t:$(t)}function i(t){return s(t)?t:V(t)}function o(t){return a(t)&&!c(t)?t:B(t)}function a(t){return!(!t||!t[f])}function u(t){return!(!t||!t[p])}function s(t){return!(!t||!t[h])}function c(t){return u(t)||s(t)}function l(t){return!(!t||!t[d])}e(r,n),e(i,n),e(o,n),n.isIterable=a,n.isKeyed=u,n.isIndexed=s,n.isAssociative=c,n.isOrdered=l,n.Keyed=r,n.Indexed=i,n.Set=o;var f="@@__IMMUTABLE_ITERABLE__@@",p="@@__IMMUTABLE_KEYED__@@",h="@@__IMMUTABLE_INDEXED__@@",d="@@__IMMUTABLE_ORDERED__@@",y={},v={value:!1},_={value:!1};function m(t){return t.value=!1,t}function g(t){t&&(t.value=!0)}function b(){}function S(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function E(t){return void 0===t.size&&(t.size=t.__iterate(x)),t.size}function w(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?E(t)+e:e}function x(){return!0}function D(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function k(t,e){return O(t,e,0)}function I(t,e){return O(t,e,e)}function O(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var T,z,M,C="function"==typeof Symbol&&Symbol.iterator,q=C||"@@iterator";function R(t){this.next=t}function j(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function A(){return{value:void 0,done:!0}}function P(t){return!!K(t)}function N(t){return t&&"function"==typeof t.next}function L(t){var e=K(t);return e&&e.call(t)}function K(t){var e=t&&(C&&t[C]||t["@@iterator"]);if("function"==typeof e)return e}function X(t){return t&&"number"==typeof t.length}function U(t){return null==t?Z():a(t)?t.toSeq():function(t){var e=tt(t)||"object"==typeof t&&new W(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}(t)}function $(t){return null==t?Z().toKeyedSeq():a(t)?u(t)?t.toSeq():t.fromEntrySeq():G(t)}function V(t){return null==t?Z():a(t)?u(t)?t.entrySeq():t.toIndexedSeq():Q(t)}function B(t){return(null==t?Z():a(t)?u(t)?t.entrySeq():t:Q(t)).toSetSeq()}function F(t){this._array=t,this.size=t.length}function W(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function J(t){this._iterable=t,this.size=t.length||t.size}function H(t){this._iterator=t,this._iteratorCache=[]}function Y(t){return!(!t||!t["@@__IMMUTABLE_SEQ__@@"])}function Z(){return T||(T=new F([]))}function G(t){var e=Array.isArray(t)?new F(t).fromEntrySeq():N(t)?new H(t).fromEntrySeq():P(t)?new J(t).fromEntrySeq():"object"==typeof t?new W(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function Q(t){var e=tt(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function tt(t){return X(t)?new F(t):N(t)?new H(t):P(t)?new J(t):void 0}function et(t,e,n,r){var i=t._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var u=i[n?o-a:a];if(!1===e(u[1],r?u[0]:a,t))return a+1}return a}return t.__iterateUncached(e,n)}function nt(t,e,n,r){var i=t._cache;if(i){var o=i.length-1,a=0;return new R((function(){var t=i[n?o-a:a];return a++>o?{value:void 0,done:!0}:j(e,r?t[0]:a-1,t[1])}))}return t.__iteratorUncached(e,n)}function rt(t,e){return e?function t(e,n,r,i){return Array.isArray(n)?e.call(i,r,V(n).map((function(r,i){return t(e,r,i,n)}))):ot(n)?e.call(i,r,$(n).map((function(r,i){return t(e,r,i,n)}))):n}(e,t,"",{"":t}):it(t)}function it(t){return Array.isArray(t)?V(t).map(it).toList():ot(t)?$(t).map(it).toMap():t}function ot(t){return t&&(t.constructor===Object||void 0===t.constructor)}function at(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function ut(t,e){if(t===e)return!0;if(!a(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||u(t)!==u(e)||s(t)!==s(e)||l(t)!==l(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!c(t);if(l(t)){var r=t.entries();return e.every((function(t,e){var i=r.next().value;return i&&at(i[1],t)&&(n||at(i[0],e))}))&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var f=!0,p=e.__iterate((function(e,r){if(n?!t.has(e):i?!at(e,t.get(r,y)):!at(t.get(r,y),e))return f=!1,!1}));return f&&t.size===p}function st(t,e){if(!(this instanceof st))return new st(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(z)return z;z=this}}function ct(t,e){if(!t)throw new Error(e)}function lt(t,e,n){if(!(this instanceof lt))return new lt(t,e,n);if(ct(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(M)return M;M=this}}function ft(){throw TypeError("Abstract")}function pt(){}function ht(){}function dt(){}R.prototype.toString=function(){return"[Iterator]"},R.KEYS=0,R.VALUES=1,R.ENTRIES=2,R.prototype.inspect=R.prototype.toSource=function(){return this.toString()},R.prototype[q]=function(){return this},e(U,n),U.of=function(){return U(arguments)},U.prototype.toSeq=function(){return this},U.prototype.toString=function(){return this.__toString("Seq {","}")},U.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},U.prototype.__iterate=function(t,e){return et(this,t,e,!0)},U.prototype.__iterator=function(t,e){return nt(this,t,e,!0)},e($,U),$.prototype.toKeyedSeq=function(){return this},e(V,U),V.of=function(){return V(arguments)},V.prototype.toIndexedSeq=function(){return this},V.prototype.toString=function(){return this.__toString("Seq [","]")},V.prototype.__iterate=function(t,e){return et(this,t,e,!1)},V.prototype.__iterator=function(t,e){return nt(this,t,e,!1)},e(B,U),B.of=function(){return B(arguments)},B.prototype.toSetSeq=function(){return this},U.isSeq=Y,U.Keyed=$,U.Set=B,U.Indexed=V,U.prototype["@@__IMMUTABLE_SEQ__@@"]=!0,e(F,V),F.prototype.get=function(t,e){return this.has(t)?this._array[w(this,t)]:e},F.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===t(n[e?r-i:i],i,this))return i+1;return i},F.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,i=0;return new R((function(){return i>r?{value:void 0,done:!0}:j(t,i,n[e?r-i++:i++])}))},e(W,$),W.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},W.prototype.has=function(t){return this._object.hasOwnProperty(t)},W.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[e?i-o:o];if(!1===t(n[a],a,this))return o+1}return o},W.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length-1,o=0;return new R((function(){var a=r[e?i-o:o];return o++>i?{value:void 0,done:!0}:j(t,a,n[a])}))},W.prototype[d]=!0,e(J,V),J.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=L(this._iterable),r=0;if(N(n))for(var i;!(i=n.next()).done&&!1!==t(i.value,r++,this););return r},J.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=L(this._iterable);if(!N(n))return new R(A);var r=0;return new R((function(){var e=n.next();return e.done?e:j(t,r++,e.value)}))},e(H,V),H.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===t(i[o],o++,this))return o;for(;!(n=r.next()).done;){var a=n.value;if(i[o]=a,!1===t(a,o++,this))break}return o},H.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,i=0;return new R((function(){if(i>=r.length){var e=n.next();if(e.done)return e;r[i]=e.value}return j(t,i,r[i++])}))},e(st,V),st.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},st.prototype.get=function(t,e){return this.has(t)?this._value:e},st.prototype.includes=function(t){return at(this._value,t)},st.prototype.slice=function(t,e){var n=this.size;return D(t,e,n)?this:new st(this._value,I(e,n)-k(t,n))},st.prototype.reverse=function(){return this},st.prototype.indexOf=function(t){return at(this._value,t)?0:-1},st.prototype.lastIndexOf=function(t){return at(this._value,t)?this.size:-1},st.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(!1===t(this._value,n,this))return n+1;return n},st.prototype.__iterator=function(t,e){var n=this,r=0;return new R((function(){return r<n.size?j(t,r++,n._value):{value:void 0,done:!0}}))},st.prototype.equals=function(t){return t instanceof st?at(this._value,t._value):ut(t)},e(lt,V),lt.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},lt.prototype.get=function(t,e){return this.has(t)?this._start+w(this,t)*this._step:e},lt.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},lt.prototype.slice=function(t,e){return D(t,e,this.size)?this:(t=k(t,this.size),(e=I(e,this.size))<=t?new lt(0,0):new lt(this.get(t,this._end),this.get(e,this._end),this._step))},lt.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},lt.prototype.lastIndexOf=function(t){return this.indexOf(t)},lt.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===t(i,o,this))return o+1;i+=e?-r:r}return o},lt.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,i=e?this._start+n*r:this._start,o=0;return new R((function(){var a=i;return i+=e?-r:r,o>n?{value:void 0,done:!0}:j(t,o++,a)}))},lt.prototype.equals=function(t){return t instanceof lt?this._start===t._start&&this._end===t._end&&this._step===t._step:ut(this,t)},e(ft,n),e(pt,ft),e(ht,ft),e(dt,ft),ft.Keyed=pt,ft.Indexed=ht,ft.Set=dt;var yt="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),r=65535&(e|=0);return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0};function vt(t){return t>>>1&1073741824|3221225471&t}function _t(t){if(!1===t||null==t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null==t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)n^=t/=4294967295;return vt(n)}if("string"===e)return t.length>Dt?function(t){var e=Ot[t];return void 0===e&&(e=mt(t),It===kt&&(It=0,Ot={}),It++,Ot[t]=e),e}(t):mt(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return function(t){var e;if(Et&&void 0!==(e=gt.get(t)))return e;if(void 0!==(e=t[xt]))return e;if(!St){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[xt]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}if(e=++wt,1073741824&wt&&(wt=0),Et)gt.set(t,e);else{if(void 0!==bt&&!1===bt(t))throw new Error("Non-extensible objects are not allowed as keys.");if(St)Object.defineProperty(t,xt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[xt]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[xt]=e}}return e}(t);if("function"==typeof t.toString)return mt(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function mt(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return vt(e)}var gt,bt=Object.isExtensible,St=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),Et="function"==typeof WeakMap;Et&&(gt=new WeakMap);var wt=0,xt="__immutablehash__";"function"==typeof Symbol&&(xt=Symbol(xt));var Dt=16,kt=255,It=0,Ot={};function Tt(t){ct(t!==1/0,"Cannot perform this action with an infinite size.")}function zt(t){return null==t?Vt():Mt(t)&&!l(t)?t:Vt().withMutations((function(e){var n=r(t);Tt(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function Mt(t){return!(!t||!t[qt])}e(zt,pt),zt.prototype.toString=function(){return this.__toString("Map {","}")},zt.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},zt.prototype.set=function(t,e){return Bt(this,t,e)},zt.prototype.setIn=function(t,e){return this.updateIn(t,y,(function(){return e}))},zt.prototype.remove=function(t){return Bt(this,t,y)},zt.prototype.deleteIn=function(t){return this.updateIn(t,(function(){return y}))},zt.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},zt.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=function t(e,n,r,i){var o=e===y,a=n.next();if(a.done){var u=o?r:e,s=i(u);return s===u?e:s}ct(o||e&&e.set,"invalid keyPath");var c=a.value,l=o?y:e.get(c,y),f=t(l,n,r,i);return f===l?e:f===y?e.remove(c):(o?Vt():e).set(c,f)}(this,He(t),e,n);return r===y?void 0:r},zt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Vt()},zt.prototype.merge=function(){return Ht(this,void 0,arguments)},zt.prototype.mergeWith=function(e){var n=t.call(arguments,1);return Ht(this,e,n)},zt.prototype.mergeIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Vt(),(function(t){return"function"==typeof t.merge?t.merge.apply(t,n):n[n.length-1]}))},zt.prototype.mergeDeep=function(){return Ht(this,Yt,arguments)},zt.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return Ht(this,Zt(e),n)},zt.prototype.mergeDeepIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Vt(),(function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,n):n[n.length-1]}))},zt.prototype.sort=function(t){return Se(Ne(this,t))},zt.prototype.sortBy=function(t,e){return Se(Ne(this,e,t))},zt.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},zt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new b)},zt.prototype.asImmutable=function(){return this.__ensureOwner()},zt.prototype.wasAltered=function(){return this.__altered},zt.prototype.__iterator=function(t,e){return new Kt(this,t,e)},zt.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate((function(e){return r++,t(e[1],e[0],n)}),e),r},zt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?$t(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},zt.isMap=Mt;var Ct,qt="@@__IMMUTABLE_MAP__@@",Rt=zt.prototype;function jt(t,e){this.ownerID=t,this.entries=e}function At(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function Pt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function Nt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function Lt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function Kt(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&Ut(t._root)}function Xt(t,e){return j(t,e[0],e[1])}function Ut(t,e){return{node:t,index:0,__prev:e}}function $t(t,e,n,r){var i=Object.create(Rt);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Vt(){return Ct||(Ct=$t(0))}function Bt(t,e,n){var r,i;if(t._root){var o=m(v),a=m(_);if(r=Ft(t._root,t.__ownerID,0,void 0,e,n,o,a),!a.value)return t;i=t.size+(o.value?n===y?-1:1:0)}else{if(n===y)return t;i=1,r=new jt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?$t(i,r):Vt()}function Ft(t,e,n,r,i,o,a,u){return t?t.update(e,n,r,i,o,a,u):o===y?t:(g(u),g(a),new Lt(e,r,[i,o]))}function Wt(t){return t.constructor===Lt||t.constructor===Nt}function Jt(t,e,n,r,i){if(t.keyHash===r)return new Nt(e,r,[t.entry,i]);var o,a=31&(0===n?t.keyHash:t.keyHash>>>n),u=31&(0===n?r:r>>>n);return new At(e,1<<a|1<<u,a===u?[Jt(t,e,n+5,r,i)]:(o=new Lt(e,r,i),a<u?[t,o]:[o,t]))}function Ht(t,e,n){for(var i=[],o=0;o<n.length;o++){var u=n[o],s=r(u);a(u)||(s=s.map((function(t){return rt(t)}))),i.push(s)}return Gt(t,e,i)}function Yt(t,e,n){return t&&t.mergeDeep&&a(e)?t.mergeDeep(e):at(t,e)?t:e}function Zt(t){return function(e,n,r){if(e&&e.mergeDeepWith&&a(n))return e.mergeDeepWith(t,n);var i=t(e,n,r);return at(e,i)?e:i}}function Gt(t,e,n){return 0===(n=n.filter((function(t){return 0!==t.size}))).length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations((function(t){for(var r=e?function(n,r){t.update(r,y,(function(t){return t===y?n:e(t,n,r)}))}:function(e,n){t.set(n,e)},i=0;i<n.length;i++)n[i].forEach(r)})):t.constructor(n[0])}function Qt(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function te(t,e,n,r){var i=r?t:S(t);return i[e]=n,i}Rt[qt]=!0,Rt.delete=Rt.remove,Rt.removeIn=Rt.deleteIn,jt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(at(n,i[o][0]))return i[o][1];return r},jt.prototype.update=function(t,e,n,r,i,o,a){for(var u=i===y,s=this.entries,c=0,l=s.length;c<l&&!at(r,s[c][0]);c++);var f=c<l;if(f?s[c][1]===i:u)return this;if(g(a),(u||!f)&&g(o),!u||1!==s.length){if(!f&&!u&&s.length>=ee)return function(t,e,n,r){t||(t=new b);for(var i=new Lt(t,_t(n),[n,r]),o=0;o<e.length;o++){var a=e[o];i=i.update(t,0,void 0,a[0],a[1])}return i}(t,s,r,i);var p=t&&t===this.ownerID,h=p?s:S(s);return f?u?c===l-1?h.pop():h[c]=h.pop():h[c]=[r,i]:h.push([r,i]),p?(this.entries=h,this):new jt(t,h)}},At.prototype.get=function(t,e,n,r){void 0===e&&(e=_t(n));var i=1<<(31&(0===t?e:e>>>t)),o=this.bitmap;return 0==(o&i)?r:this.nodes[Qt(o&i-1)].get(t+5,e,n,r)},At.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=_t(r));var u=31&(0===e?n:n>>>e),s=1<<u,c=this.bitmap,l=0!=(c&s);if(!l&&i===y)return this;var f=Qt(c&s-1),p=this.nodes,h=l?p[f]:void 0,d=Ft(h,t,e+5,n,r,i,o,a);if(d===h)return this;if(!l&&d&&p.length>=ne)return function(t,e,n,r,i){for(var o=0,a=new Array(32),u=0;0!==n;u++,n>>>=1)a[u]=1&n?e[o++]:void 0;return a[r]=i,new Pt(t,o+1,a)}(t,p,c,u,d);if(l&&!d&&2===p.length&&Wt(p[1^f]))return p[1^f];if(l&&d&&1===p.length&&Wt(d))return d;var v=t&&t===this.ownerID,_=l?d?c:c^s:c|s,m=l?d?te(p,f,d,v):function(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,a=0;a<r;a++)a===e&&(o=1),i[a]=t[a+o];return i}(p,f,v):function(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),a=0,u=0;u<i;u++)u===e?(o[u]=n,a=-1):o[u]=t[u+a];return o}(p,f,d,v);return v?(this.bitmap=_,this.nodes=m,this):new At(t,_,m)},Pt.prototype.get=function(t,e,n,r){void 0===e&&(e=_t(n));var i=31&(0===t?e:e>>>t),o=this.nodes[i];return o?o.get(t+5,e,n,r):r},Pt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=_t(r));var u=31&(0===e?n:n>>>e),s=i===y,c=this.nodes,l=c[u];if(s&&!l)return this;var f=Ft(l,t,e+5,n,r,i,o,a);if(f===l)return this;var p=this.count;if(l){if(!f&&--p<re)return function(t,e,n,r){for(var i=0,o=0,a=new Array(n),u=0,s=1,c=e.length;u<c;u++,s<<=1){var l=e[u];void 0!==l&&u!==r&&(i|=s,a[o++]=l)}return new At(t,i,a)}(t,c,p,u)}else p++;var h=t&&t===this.ownerID,d=te(c,u,f,h);return h?(this.count=p,this.nodes=d,this):new Pt(t,p,d)},Nt.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(at(n,i[o][0]))return i[o][1];return r},Nt.prototype.update=function(t,e,n,r,i,o,a){void 0===n&&(n=_t(r));var u=i===y;if(n!==this.keyHash)return u?this:(g(a),g(o),Jt(this,t,e,n,[r,i]));for(var s=this.entries,c=0,l=s.length;c<l&&!at(r,s[c][0]);c++);var f=c<l;if(f?s[c][1]===i:u)return this;if(g(a),(u||!f)&&g(o),u&&2===l)return new Lt(t,this.keyHash,s[1^c]);var p=t&&t===this.ownerID,h=p?s:S(s);return f?u?c===l-1?h.pop():h[c]=h.pop():h[c]=[r,i]:h.push([r,i]),p?(this.entries=h,this):new Nt(t,this.keyHash,h)},Lt.prototype.get=function(t,e,n,r){return at(n,this.entry[0])?this.entry[1]:r},Lt.prototype.update=function(t,e,n,r,i,o,a){var u=i===y,s=at(r,this.entry[0]);return(s?i===this.entry[1]:u)?this:(g(a),u?void g(o):s?t&&t===this.ownerID?(this.entry[1]=i,this):new Lt(t,this.keyHash,[r,i]):(g(o),Jt(this,t,e,_t(r),[r,i])))},jt.prototype.iterate=Nt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===t(n[e?i-r:r]))return!1},At.prototype.iterate=Pt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[e?i-r:r];if(o&&!1===o.iterate(t,e))return!1}},Lt.prototype.iterate=function(t,e){return t(this.entry)},e(Kt,R),Kt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,i=e.index++;if(r.entry){if(0===i)return Xt(t,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return Xt(t,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return Xt(t,o.entry);e=this._stack=Ut(o,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ee=8,ne=16,re=8;function ie(t){var e=de();if(null==t)return e;if(oe(t))return t;var n=i(t),r=n.size;return 0===r?e:(Tt(r),r>0&&r<32?he(0,r,5,null,new se(n.toArray())):e.withMutations((function(t){t.setSize(r),n.forEach((function(e,n){return t.set(n,e)}))})))}function oe(t){return!(!t||!t[ae])}e(ie,ht),ie.of=function(){return this(arguments)},ie.prototype.toString=function(){return this.__toString("List [","]")},ie.prototype.get=function(t,e){if((t=w(this,t))>=0&&t<this.size){var n=_e(this,t+=this._origin);return n&&n.array[31&t]}return e},ie.prototype.set=function(t,e){return function(t,e,n){if((e=w(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?me(t,e).set(0,n):me(t,0,e+1).set(e,n)}));e+=t._origin;var r=t._tail,i=t._root,o=m(_);return e>=be(t._capacity)?r=ye(r,t.__ownerID,0,e,n,o):i=ye(i,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t):he(t._origin,t._capacity,t._level,i,r):t}(this,t,e)},ie.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},ie.prototype.insert=function(t,e){return this.splice(t,0,e)},ie.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):de()},ie.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(n){me(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])}))},ie.prototype.pop=function(){return me(this,0,-1)},ie.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){me(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])}))},ie.prototype.shift=function(){return me(this,1)},ie.prototype.merge=function(){return ge(this,void 0,arguments)},ie.prototype.mergeWith=function(e){var n=t.call(arguments,1);return ge(this,e,n)},ie.prototype.mergeDeep=function(){return ge(this,Yt,arguments)},ie.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return ge(this,Zt(e),n)},ie.prototype.setSize=function(t){return me(this,0,t)},ie.prototype.slice=function(t,e){var n=this.size;return D(t,e,n)?this:me(this,k(t,n),I(e,n))},ie.prototype.__iterator=function(t,e){var n=0,r=pe(this,e);return new R((function(){var e=r();return e===fe?{value:void 0,done:!0}:j(t,n++,e)}))},ie.prototype.__iterate=function(t,e){for(var n,r=0,i=pe(this,e);(n=i())!==fe&&!1!==t(n,r++,this););return r},ie.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?he(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},ie.isList=oe;var ae="@@__IMMUTABLE_LIST__@@",ue=ie.prototype;function se(t,e){this.array=t,this.ownerID=e}ue[ae]=!0,ue.delete=ue.remove,ue.setIn=Rt.setIn,ue.deleteIn=ue.removeIn=Rt.removeIn,ue.update=Rt.update,ue.updateIn=Rt.updateIn,ue.mergeIn=Rt.mergeIn,ue.mergeDeepIn=Rt.mergeDeepIn,ue.withMutations=Rt.withMutations,ue.asMutable=Rt.asMutable,ue.asImmutable=Rt.asImmutable,ue.wasAltered=Rt.wasAltered,se.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&31;if(r>=this.array.length)return new se([],t);var i,o=0===r;if(e>0){var a=this.array[r];if((i=a&&a.removeBefore(t,e-5,n))===a&&o)return this}if(o&&!i)return this;var u=ve(this,t);if(!o)for(var s=0;s<r;s++)u.array[s]=void 0;return i&&(u.array[r]=i),u},se.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r,i=n-1>>>e&31;if(i>=this.array.length)return this;if(e>0){var o=this.array[i];if((r=o&&o.removeAfter(t,e-5,n))===o&&i===this.array.length-1)return this}var a=ve(this,t);return a.array.splice(i+1),r&&(a.array[i]=r),a};var ce,le,fe={};function pe(t,e){var n=t._origin,r=t._capacity,i=be(r),o=t._tail;return a(t._root,t._level,0);function a(t,u,s){return 0===u?function(t,a){var u=a===i?o&&o.array:t&&t.array,s=a>n?0:n-a,c=r-a;return c>32&&(c=32),function(){if(s===c)return fe;var t=e?--c:s++;return u&&u[t]}}(t,s):function(t,i,o){var u,s=t&&t.array,c=o>n?0:n-o>>i,l=1+(r-o>>i);return l>32&&(l=32),function(){for(;;){if(u){var t=u();if(t!==fe)return t;u=null}if(c===l)return fe;var n=e?--l:c++;u=a(s&&s[n],i-5,o+(n<<i))}}}(t,u,s)}}function he(t,e,n,r,i,o,a){var u=Object.create(ue);return u.size=e-t,u._origin=t,u._capacity=e,u._level=n,u._root=r,u._tail=i,u.__ownerID=o,u.__hash=a,u.__altered=!1,u}function de(){return ce||(ce=he(0,0,5))}function ye(t,e,n,r,i,o){var a,u=r>>>n&31,s=t&&u<t.array.length;if(!s&&void 0===i)return t;if(n>0){var c=t&&t.array[u],l=ye(c,e,n-5,r,i,o);return l===c?t:((a=ve(t,e)).array[u]=l,a)}return s&&t.array[u]===i?t:(g(o),a=ve(t,e),void 0===i&&u===a.array.length-1?a.array.pop():a.array[u]=i,a)}function ve(t,e){return e&&t&&e===t.ownerID?t:new se(t?t.array.slice():[],e)}function _e(t,e){if(e>=be(t._capacity))return t._tail;if(e<1<<t._level+5){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&31],r-=5;return n}}function me(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new b,i=t._origin,o=t._capacity,a=i+e,u=void 0===n?o:n<0?o+n:i+n;if(a===i&&u===o)return t;if(a>=u)return t.clear();for(var s=t._level,c=t._root,l=0;a+l<0;)c=new se(c&&c.array.length?[void 0,c]:[],r),l+=1<<(s+=5);l&&(a+=l,i+=l,u+=l,o+=l);for(var f=be(o),p=be(u);p>=1<<s+5;)c=new se(c&&c.array.length?[c]:[],r),s+=5;var h=t._tail,d=p<f?_e(t,u-1):p>f?new se([],r):h;if(h&&p>f&&a<o&&h.array.length){for(var y=c=ve(c,r),v=s;v>5;v-=5){var _=f>>>v&31;y=y.array[_]=ve(y.array[_],r)}y.array[f>>>5&31]=h}if(u<o&&(d=d&&d.removeAfter(r,0,u)),a>=p)a-=p,u-=p,s=5,c=null,d=d&&d.removeBefore(r,0,a);else if(a>i||p<f){for(l=0;c;){var m=a>>>s&31;if(m!==p>>>s&31)break;m&&(l+=(1<<s)*m),s-=5,c=c.array[m]}c&&a>i&&(c=c.removeBefore(r,s,a-l)),c&&p<f&&(c=c.removeAfter(r,s,p-l)),l&&(a-=l,u-=l)}return t.__ownerID?(t.size=u-a,t._origin=a,t._capacity=u,t._level=s,t._root=c,t._tail=d,t.__hash=void 0,t.__altered=!0,t):he(a,u,s,c,d)}function ge(t,e,n){for(var r=[],o=0,u=0;u<n.length;u++){var s=n[u],c=i(s);c.size>o&&(o=c.size),a(s)||(c=c.map((function(t){return rt(t)}))),r.push(c)}return o>t.size&&(t=t.setSize(o)),Gt(t,e,r)}function be(t){return t<32?0:t-1>>>5<<5}function Se(t){return null==t?xe():Ee(t)?t:xe().withMutations((function(e){var n=r(t);Tt(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function Ee(t){return Mt(t)&&l(t)}function we(t,e,n,r){var i=Object.create(Se.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function xe(){return le||(le=we(Vt(),de()))}function De(t,e,n){var r,i,o=t._map,a=t._list,u=o.get(e),s=void 0!==u;if(n===y){if(!s)return t;a.size>=32&&a.size>=2*o.size?(r=(i=a.filter((function(t,e){return void 0!==t&&u!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=u===a.size-1?a.pop():a.set(u,void 0))}else if(s){if(n===a.get(u)[1])return t;r=o,i=a.set(u,[e,n])}else r=o.set(e,a.size),i=a.set(a.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):we(r,i)}function ke(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function Ie(t){this._iter=t,this.size=t.size}function Oe(t){this._iter=t,this.size=t.size}function Te(t){this._iter=t,this.size=t.size}function ze(t){var e=Fe(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=We,e.__iterateUncached=function(e,n){var r=this;return t.__iterate((function(t,n){return!1!==e(n,t,r)}),n)},e.__iteratorUncached=function(e,n){if(2===e){var r=t.__iterator(e,n);return new R((function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(1===e?0:1,n)},e}function Me(t,e,n){var r=Fe(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,y);return o===y?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate((function(t,i,a){return!1!==r(e.call(n,t,i,a),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(2,i);return new R((function(){var i=o.next();if(i.done)return i;var a=i.value,u=a[0];return j(r,u,e.call(n,a[1],u,t),i)}))},r}function Ce(t,e){var n=Fe(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=ze(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=We,n.__iterate=function(e,n){var r=this;return t.__iterate((function(t,n){return e(t,n,r)}),!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function qe(t,e,n,r){var i=Fe(t);return r&&(i.has=function(r){var i=t.get(r,y);return i!==y&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,y);return o!==y&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var a=this,u=0;return t.__iterate((function(t,o,s){if(e.call(n,t,o,s))return u++,i(t,r?o:u-1,a)}),o),u},i.__iteratorUncached=function(i,o){var a=t.__iterator(2,o),u=0;return new R((function(){for(;;){var o=a.next();if(o.done)return o;var s=o.value,c=s[0],l=s[1];if(e.call(n,l,c,t))return j(i,r?c:u++,l,o)}}))},i}function Re(t,e,n,r){var i=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n|=0),D(e,n,i))return t;var o=k(e,i),a=I(n,i);if(o!=o||a!=a)return Re(t.toSeq().cacheResult(),e,n,r);var u,s=a-o;s==s&&(u=s<0?0:s);var c=Fe(t);return c.size=0===u?u:t.size&&u||void 0,!r&&Y(t)&&u>=0&&(c.get=function(e,n){return(e=w(this,e))>=0&&e<u?t.get(e+o,n):n}),c.__iterateUncached=function(e,n){var i=this;if(0===u)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,s=!0,c=0;return t.__iterate((function(t,n){if(!s||!(s=a++<o))return c++,!1!==e(t,r?n:c-1,i)&&c!==u})),c},c.__iteratorUncached=function(e,n){if(0!==u&&n)return this.cacheResult().__iterator(e,n);var i=0!==u&&t.__iterator(e,n),a=0,s=0;return new R((function(){for(;a++<o;)i.next();if(++s>u)return{value:void 0,done:!0};var t=i.next();return r||1===e?t:j(e,s-1,0===e?void 0:t.value[1],t)}))},c}function je(t,e,n,r){var i=Fe(t);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var u=!0,s=0;return t.__iterate((function(t,o,c){if(!u||!(u=e.call(n,t,o,c)))return s++,i(t,r?o:s-1,a)})),s},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var u=t.__iterator(2,o),s=!0,c=0;return new R((function(){var t,o,l;do{if((t=u.next()).done)return r||1===i?t:j(i,c++,0===i?void 0:t.value[1],t);var f=t.value;o=f[0],l=f[1],s&&(s=e.call(n,l,o,a))}while(s);return 2===i?t:j(i,o,l,t)}))},i}function Ae(t,e){var n=u(t),i=[t].concat(e).map((function(t){return a(t)?n&&(t=r(t)):t=n?G(t):Q(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===i.length)return t;if(1===i.length){var o=i[0];if(o===t||n&&u(o)||s(t)&&s(o))return o}var c=new F(i);return n?c=c.toKeyedSeq():s(t)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=i.reduce((function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}}),0),c}function Pe(t,e,n){var r=Fe(t);return r.__iterateUncached=function(r,i){var o=0,u=!1;return function t(s,c){var l=this;s.__iterate((function(i,s){return(!e||c<e)&&a(i)?t(i,c+1):!1===r(i,n?s:o++,l)&&(u=!0),!u}),i)}(t,0),o},r.__iteratorUncached=function(r,i){var o=t.__iterator(r,i),u=[],s=0;return new R((function(){for(;o;){var t=o.next();if(!1===t.done){var c=t.value;if(2===r&&(c=c[1]),e&&!(u.length<e)||!a(c))return n?t:j(r,s++,c,t);u.push(o),o=c.__iterator(r,i)}else o=u.pop()}return{value:void 0,done:!0}}))},r}function Ne(t,e,n){e||(e=Je);var r=u(t),i=0,o=t.toSeq().map((function(e,r){return[r,e,i++,n?n(e,r,t):e]})).toArray();return o.sort((function(t,n){return e(t[3],n[3])||t[2]-n[2]})).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?$(o):s(t)?V(o):B(o)}function Le(t,e,n){if(e||(e=Je),n){var r=t.toSeq().map((function(e,r){return[e,n(e,r,t)]})).reduce((function(t,n){return Ke(e,t[1],n[1])?n:t}));return r&&r[0]}return t.reduce((function(t,n){return Ke(e,t,n)?n:t}))}function Ke(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(null==n||n!=n)||r>0}function Xe(t,e,r){var i=Fe(t);return i.size=new F(r).map((function(t){return t.size})).min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(1,e),i=0;!(n=r.next()).done&&!1!==t(n.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=r.map((function(t){return t=n(t),L(i?t.reverse():t)})),a=0,u=!1;return new R((function(){var n;return u||(n=o.map((function(t){return t.next()})),u=n.some((function(t){return t.done}))),u?{value:void 0,done:!0}:j(t,a++,e.apply(null,n.map((function(t){return t.value}))))}))},i}function Ue(t,e){return Y(t)?e:t.constructor(e)}function $e(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Ve(t){return Tt(t.size),E(t)}function Be(t){return u(t)?r:s(t)?i:o}function Fe(t){return Object.create((u(t)?$:s(t)?V:B).prototype)}function We(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):U.prototype.cacheResult.call(this)}function Je(t,e){return t>e?1:t<e?-1:0}function He(t){var e=L(t);if(!e){if(!X(t))throw new TypeError("Expected iterable or array-like: "+t);e=L(n(t))}return e}function Ye(t,e){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(t);!function(t,e){try{e.forEach(tn.bind(void 0,t))}catch(t){}}(i,a),i.size=a.length,i._name=e,i._keys=a,i._defaultValues=t}this._map=zt(o)},i=r.prototype=Object.create(Ze);return i.constructor=r,r}e(Se,zt),Se.of=function(){return this(arguments)},Se.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Se.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},Se.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):xe()},Se.prototype.set=function(t,e){return De(this,t,e)},Se.prototype.remove=function(t){return De(this,t,y)},Se.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Se.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],n)}),e)},Se.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Se.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?we(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},Se.isOrderedMap=Ee,Se.prototype[d]=!0,Se.prototype.delete=Se.prototype.remove,e(ke,$),ke.prototype.get=function(t,e){return this._iter.get(t,e)},ke.prototype.has=function(t){return this._iter.has(t)},ke.prototype.valueSeq=function(){return this._iter.valueSeq()},ke.prototype.reverse=function(){var t=this,e=Ce(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},ke.prototype.map=function(t,e){var n=this,r=Me(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},ke.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?Ve(this):0,function(i){return t(i,e?--n:n++,r)}),e)},ke.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(1,e),r=e?Ve(this):0;return new R((function(){var i=n.next();return i.done?i:j(t,e?--r:r++,i.value,i)}))},ke.prototype[d]=!0,e(Ie,V),Ie.prototype.includes=function(t){return this._iter.includes(t)},Ie.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate((function(e){return t(e,r++,n)}),e)},Ie.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e),r=0;return new R((function(){var e=n.next();return e.done?e:j(t,r++,e.value,e)}))},e(Oe,B),Oe.prototype.has=function(t){return this._iter.includes(t)},Oe.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){return t(e,e,n)}),e)},Oe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new R((function(){var e=n.next();return e.done?e:j(t,e.value,e.value,e)}))},e(Te,$),Te.prototype.entrySeq=function(){return this._iter.toSeq()},Te.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){if(e){$e(e);var r=a(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}}),e)},Te.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new R((function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){$e(r);var i=a(r);return j(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}}))},Ie.prototype.cacheResult=ke.prototype.cacheResult=Oe.prototype.cacheResult=Te.prototype.cacheResult=We,e(Ye,pt),Ye.prototype.toString=function(){return this.__toString(Qe(this)+" {","}")},Ye.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},Ye.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},Ye.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=Ge(this,Vt()))},Ye.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+Qe(this));var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:Ge(this,n)},Ye.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:Ge(this,e)},Ye.prototype.wasAltered=function(){return this._map.wasAltered()},Ye.prototype.__iterator=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterator(t,e)},Ye.prototype.__iterate=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterate(t,e)},Ye.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?Ge(this,e,t):(this.__ownerID=t,this._map=e,this)};var Ze=Ye.prototype;function Ge(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function Qe(t){return t._name||t.constructor.name||"Record"}function tn(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){ct(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function en(t){return null==t?cn():nn(t)&&!l(t)?t:cn().withMutations((function(e){var n=o(t);Tt(n.size),n.forEach((function(t){return e.add(t)}))}))}function nn(t){return!(!t||!t[on])}Ze.delete=Ze.remove,Ze.deleteIn=Ze.removeIn=Rt.removeIn,Ze.merge=Rt.merge,Ze.mergeWith=Rt.mergeWith,Ze.mergeIn=Rt.mergeIn,Ze.mergeDeep=Rt.mergeDeep,Ze.mergeDeepWith=Rt.mergeDeepWith,Ze.mergeDeepIn=Rt.mergeDeepIn,Ze.setIn=Rt.setIn,Ze.update=Rt.update,Ze.updateIn=Rt.updateIn,Ze.withMutations=Rt.withMutations,Ze.asMutable=Rt.asMutable,Ze.asImmutable=Rt.asImmutable,e(en,dt),en.of=function(){return this(arguments)},en.fromKeys=function(t){return this(r(t).keySeq())},en.prototype.toString=function(){return this.__toString("Set {","}")},en.prototype.has=function(t){return this._map.has(t)},en.prototype.add=function(t){return un(this,this._map.set(t,!0))},en.prototype.remove=function(t){return un(this,this._map.remove(t))},en.prototype.clear=function(){return un(this,this._map.clear())},en.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(t){for(var n=0;n<e.length;n++)o(e[n]).forEach((function(e){return t.add(e)}))})):this.constructor(e[0])},en.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return o(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.every((function(t){return t.includes(n)}))||t.remove(n)}))}))},en.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return o(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.some((function(t){return t.includes(n)}))&&t.remove(n)}))}))},en.prototype.merge=function(){return this.union.apply(this,arguments)},en.prototype.mergeWith=function(e){var n=t.call(arguments,1);return this.union.apply(this,n)},en.prototype.sort=function(t){return ln(Ne(this,t))},en.prototype.sortBy=function(t,e){return ln(Ne(this,e,t))},en.prototype.wasAltered=function(){return this._map.wasAltered()},en.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate((function(e,r){return t(r,r,n)}),e)},en.prototype.__iterator=function(t,e){return this._map.map((function(t,e){return e})).__iterator(t,e)},en.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},en.isSet=nn;var rn,on="@@__IMMUTABLE_SET__@@",an=en.prototype;function un(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function sn(t,e){var n=Object.create(an);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function cn(){return rn||(rn=sn(Vt()))}function ln(t){return null==t?yn():fn(t)?t:yn().withMutations((function(e){var n=o(t);Tt(n.size),n.forEach((function(t){return e.add(t)}))}))}function fn(t){return nn(t)&&l(t)}an[on]=!0,an.delete=an.remove,an.mergeDeep=an.merge,an.mergeDeepWith=an.mergeWith,an.withMutations=Rt.withMutations,an.asMutable=Rt.asMutable,an.asImmutable=Rt.asImmutable,an.__empty=cn,an.__make=sn,e(ln,en),ln.of=function(){return this(arguments)},ln.fromKeys=function(t){return this(r(t).keySeq())},ln.prototype.toString=function(){return this.__toString("OrderedSet {","}")},ln.isOrderedSet=fn;var pn,hn=ln.prototype;function dn(t,e){var n=Object.create(hn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function yn(){return pn||(pn=dn(xe()))}function vn(t){return null==t?En():_n(t)?t:En().unshiftAll(t)}function _n(t){return!(!t||!t[gn])}hn[d]=!0,hn.__empty=yn,hn.__make=dn,e(vn,ht),vn.of=function(){return this(arguments)},vn.prototype.toString=function(){return this.__toString("Stack [","]")},vn.prototype.get=function(t,e){var n=this._head;for(t=w(this,t);n&&t--;)n=n.next;return n?n.value:e},vn.prototype.peek=function(){return this._head&&this._head.value},vn.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Sn(t,e)},vn.prototype.pushAll=function(t){if(0===(t=i(t)).size)return this;Tt(t.size);var e=this.size,n=this._head;return t.reverse().forEach((function(t){e++,n={value:t,next:n}})),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Sn(e,n)},vn.prototype.pop=function(){return this.slice(1)},vn.prototype.unshift=function(){return this.push.apply(this,arguments)},vn.prototype.unshiftAll=function(t){return this.pushAll(t)},vn.prototype.shift=function(){return this.pop.apply(this,arguments)},vn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):En()},vn.prototype.slice=function(t,e){if(D(t,e,this.size))return this;var n=k(t,this.size);if(I(e,this.size)!==this.size)return ht.prototype.slice.call(this,t,e);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):Sn(r,i)},vn.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Sn(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},vn.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},vn.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new R((function(){if(r){var e=r.value;return r=r.next,j(t,n++,e)}return{value:void 0,done:!0}}))},vn.isStack=_n;var mn,gn="@@__IMMUTABLE_STACK__@@",bn=vn.prototype;function Sn(t,e,n,r){var i=Object.create(bn);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function En(){return mn||(mn=Sn(0))}function wn(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}bn[gn]=!0,bn.withMutations=Rt.withMutations,bn.asMutable=Rt.asMutable,bn.asImmutable=Rt.asImmutable,bn.wasAltered=Rt.wasAltered,n.Iterator=R,wn(n,{toArray:function(){Tt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate((function(e,n){t[n]=e})),t},toIndexedSeq:function(){return new Ie(this)},toJS:function(){return this.toSeq().map((function(t){return t&&"function"==typeof t.toJS?t.toJS():t})).__toJS()},toJSON:function(){return this.toSeq().map((function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t})).__toJS()},toKeyedSeq:function(){return new ke(this,!0)},toMap:function(){return zt(this.toKeyedSeq())},toObject:function(){Tt(this.size);var t={};return this.__iterate((function(e,n){t[n]=e})),t},toOrderedMap:function(){return Se(this.toKeyedSeq())},toOrderedSet:function(){return ln(u(this)?this.valueSeq():this)},toSet:function(){return en(u(this)?this.valueSeq():this)},toSetSeq:function(){return new Oe(this)},toSeq:function(){return s(this)?this.toIndexedSeq():u(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return vn(u(this)?this.valueSeq():this)},toList:function(){return ie(u(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var e=t.call(arguments,0);return Ue(this,Ae(this,e))},includes:function(t){return this.some((function(e){return at(e,t)}))},entries:function(){return this.__iterator(2)},every:function(t,e){Tt(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!t.call(e,r,i,o))return n=!1,!1})),n},filter:function(t,e){return Ue(this,qe(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},findEntry:function(t,e){var n;return this.__iterate((function(r,i,o){if(t.call(e,r,i,o))return n=[i,r],!1})),n},findLastEntry:function(t,e){return this.toSeq().reverse().findEntry(t,e)},forEach:function(t,e){return Tt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Tt(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate((function(r){n?n=!1:e+=t,e+=null!=r?r.toString():""})),e},keys:function(){return this.__iterator(0)},map:function(t,e){return Ue(this,Me(this,t,e))},reduce:function(t,e,n){var r,i;return Tt(this.size),arguments.length<2?i=!0:r=e,this.__iterate((function(e,o,a){i?(i=!1,r=e):r=t.call(n,r,e,o,a)})),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Ue(this,Ce(this,!0))},slice:function(t,e){return Ue(this,Re(this,t,e,!0))},some:function(t,e){return!this.every(On(t),e)},sort:function(t){return Ue(this,Ne(this,t))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return E(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,n){var r=zt().asMutable();return t.__iterate((function(i,o){r.update(e.call(n,i,o,t),0,(function(t){return t+1}))})),r.asImmutable()}(this,t,e)},equals:function(t){return ut(this,t)},entrySeq:function(){var t=this;if(t._cache)return new F(t._cache);var e=t.toSeq().map(In).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(On(t),e)},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},first:function(){return this.find(x)},flatMap:function(t,e){return Ue(this,function(t,e,n){var r=Be(t);return t.toSeq().map((function(i,o){return r(e.call(n,i,o,t))})).flatten(!0)}(this,t,e))},flatten:function(t){return Ue(this,Pe(this,t,!0))},fromEntrySeq:function(){return new Te(this)},get:function(t,e){return this.find((function(e,n){return at(n,t)}),void 0,e)},getIn:function(t,e){for(var n,r=this,i=He(t);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,y):y)===y)return e}return r},groupBy:function(t,e){return function(t,e,n){var r=u(t),i=(l(t)?Se():zt()).asMutable();t.__iterate((function(o,a){i.update(e.call(n,o,a,t),(function(t){return(t=t||[]).push(r?[a,o]:o),t}))}));var o=Be(t);return i.map((function(e){return Ue(t,o(e))}))}(this,t,e)},has:function(t){return this.get(t,y)!==y},hasIn:function(t){return this.getIn(t,y)!==y},isSubset:function(t){return t="function"==typeof t.includes?t:n(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:n(t)).isSubset(this)},keySeq:function(){return this.toSeq().map(kn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(t){return Le(this,t)},maxBy:function(t,e){return Le(this,e,t)},min:function(t){return Le(this,t?Tn(t):Cn)},minBy:function(t,e){return Le(this,e?Tn(e):Cn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Ue(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Ue(this,je(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(On(t),e)},sortBy:function(t,e){return Ue(this,Ne(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Ue(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Ue(this,function(t,e,n){var r=Fe(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return t.__iterate((function(t,i,u){return e.call(n,t,i,u)&&++a&&r(t,i,o)})),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=t.__iterator(2,i),u=!0;return new R((function(){if(!u)return{value:void 0,done:!0};var t=a.next();if(t.done)return t;var i=t.value,s=i[0],c=i[1];return e.call(n,c,s,o)?2===r?t:j(r,s,c,t):(u=!1,{value:void 0,done:!0})}))},r}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(On(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=l(t),n=u(t),r=e?1:0;return function(t,e){return e=yt(e,3432918353),e=yt(e<<15|e>>>-15,461845907),e=yt(e<<13|e>>>-13,5),e=yt((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=vt((e=yt(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(n?e?function(t,e){r=31*r+qn(_t(t),_t(e))|0}:function(t,e){r=r+qn(_t(t),_t(e))|0}:e?function(t){r=31*r+_t(t)|0}:function(t){r=r+_t(t)|0}),r)}(this))}});var xn=n.prototype;xn[f]=!0,xn[q]=xn.values,xn.__toJS=xn.toArray,xn.__toStringMapper=zn,xn.inspect=xn.toSource=function(){return this.toString()},xn.chain=xn.flatMap,xn.contains=xn.includes,function(){try{Object.defineProperty(xn,"length",{get:function(){if(!n.noLengthWarning){var t;try{throw new Error}catch(e){t=e.stack}if(-1===t.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+t),this.size}}})}catch(t){}}(),wn(r,{flip:function(){return Ue(this,ze(this))},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLastKey:function(t,e){return this.toSeq().reverse().findKey(t,e)},keyOf:function(t){return this.findKey((function(e){return at(e,t)}))},lastKeyOf:function(t){return this.findLastKey((function(e){return at(e,t)}))},mapEntries:function(t,e){var n=this,r=0;return Ue(this,this.toSeq().map((function(i,o){return t.call(e,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Ue(this,this.toSeq().flip().map((function(r,i){return t.call(e,r,i,n)})).flip())}});var Dn=r.prototype;function kn(t,e){return e}function In(t,e){return[e,t]}function On(t){return function(){return!t.apply(this,arguments)}}function Tn(t){return function(){return-t.apply(this,arguments)}}function zn(t){return"string"==typeof t?JSON.stringify(t):t}function Mn(){return S(arguments)}function Cn(t,e){return t<e?1:t>e?-1:0}function qn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return Dn[p]=!0,Dn[q]=xn.entries,Dn.__toJS=xn.toObject,Dn.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+zn(t)},wn(i,{toKeyedSeq:function(){return new ke(this,!1)},filter:function(t,e){return Ue(this,qe(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.toKeyedSeq().keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.toKeyedSeq().reverse().keyOf(t);return void 0===e?-1:e},reverse:function(){return Ue(this,Ce(this,!1))},slice:function(t,e){return Ue(this,Re(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=k(t,t<0?this.count():this.size);var r=this.slice(0,t);return Ue(this,1===n?r:r.concat(S(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.toKeyedSeq().findLastKey(t,e);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(t){return Ue(this,Pe(this,t,!1))},get:function(t,e){return(t=w(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,n){return n===t}),void 0,e)},has:function(t){return(t=w(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Ue(this,function(t,e){var n=Fe(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate((function(t,r){return(!o||!1!==n(e,o++,i))&&!1!==n(t,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(1,r),a=0;return new R((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?j(n,a++,e):j(n,a++,i.value,i)}))},n}(this,t))},interleave:function(){var t=[this].concat(S(arguments)),e=Xe(this.toSeq(),V.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Ue(this,n)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Ue(this,je(this,t,e,!1))},zip:function(){var t=[this].concat(S(arguments));return Ue(this,Xe(this,Mn,t))},zipWith:function(t){var e=S(arguments);return e[0]=this,Ue(this,Xe(this,t,e))}}),i.prototype[h]=!0,i.prototype[d]=!0,wn(o,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=xn.includes,wn($,r.prototype),wn(V,i.prototype),wn(B,o.prototype),wn(pt,r.prototype),wn(ht,i.prototype),wn(dt,o.prototype),{Iterable:n,Seq:U,Collection:ft,Map:zt,OrderedMap:Se,List:ie,Stack:vn,Set:en,OrderedSet:ln,Record:Ye,Range:lt,Repeat:st,is:at,fromJS:rt}}()})),S=(b.Iterable,b.Seq,b.Collection,b.Map),E=(b.OrderedMap,b.List,b.Stack,b.Set,b.OrderedSet,b.Record,b.Range,b.Repeat,b.is,b.fromJS,"function"==typeof Symbol&&Symbol.for),w=E?Symbol.for("react.element"):60103,x=E?Symbol.for("react.portal"):60106,D=E?Symbol.for("react.fragment"):60107,k=E?Symbol.for("react.strict_mode"):60108,I=E?Symbol.for("react.profiler"):60114,O=E?Symbol.for("react.provider"):60109,T=E?Symbol.for("react.context"):60110,z=E?Symbol.for("react.async_mode"):60111,M=E?Symbol.for("react.concurrent_mode"):60111,C=E?Symbol.for("react.forward_ref"):60112,q=E?Symbol.for("react.suspense"):60113,R=E?Symbol.for("react.suspense_list"):60120,j=E?Symbol.for("react.memo"):60115,A=E?Symbol.for("react.lazy"):60116,P=E?Symbol.for("react.block"):60121,N=E?Symbol.for("react.fundamental"):60117,L=E?Symbol.for("react.responder"):60118,K=E?Symbol.for("react.scope"):60119;function X(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case w:switch(t=t.type){case z:case M:case D:case I:case k:case q:return t;default:switch(t=t&&t.$$typeof){case T:case C:case A:case j:case O:return t;default:return e}}case x:return e}}}function U(t){return X(t)===M}var $={AsyncMode:z,ConcurrentMode:M,ContextConsumer:T,ContextProvider:O,Element:w,ForwardRef:C,Fragment:D,Lazy:A,Memo:j,Portal:x,Profiler:I,StrictMode:k,Suspense:q,isAsyncMode:function(t){return U(t)||X(t)===z},isConcurrentMode:U,isContextConsumer:function(t){return X(t)===T},isContextProvider:function(t){return X(t)===O},isElement:function(t){return"object"==typeof t&&null!==t&&t.$$typeof===w},isForwardRef:function(t){return X(t)===C},isFragment:function(t){return X(t)===D},isLazy:function(t){return X(t)===A},isMemo:function(t){return X(t)===j},isPortal:function(t){return X(t)===x},isProfiler:function(t){return X(t)===I},isStrictMode:function(t){return X(t)===k},isSuspense:function(t){return X(t)===q},isValidElementType:function(t){return"string"==typeof t||"function"==typeof t||t===D||t===M||t===I||t===k||t===q||t===R||"object"==typeof t&&null!==t&&(t.$$typeof===A||t.$$typeof===j||t.$$typeof===O||t.$$typeof===T||t.$$typeof===C||t.$$typeof===N||t.$$typeof===L||t.$$typeof===K||t.$$typeof===P)},typeOf:X},V=g((function(t,e){"production"!==process.env.NODE_ENV&&function(){var t="function"==typeof Symbol&&Symbol.for,n=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,o=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,u=t?Symbol.for("react.provider"):60109,s=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,l=t?Symbol.for("react.concurrent_mode"):60111,f=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,d=t?Symbol.for("react.memo"):60115,y=t?Symbol.for("react.lazy"):60116,v=t?Symbol.for("react.block"):60121,_=t?Symbol.for("react.fundamental"):60117,m=t?Symbol.for("react.responder"):60118,g=t?Symbol.for("react.scope"):60119;function b(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case n:var h=t.type;switch(h){case c:case l:case i:case a:case o:case p:return h;default:var v=h&&h.$$typeof;switch(v){case s:case f:case y:case d:case u:return v;default:return e}}case r:return e}}}var S=c,E=l,w=s,x=u,D=n,k=f,I=i,O=y,T=d,z=r,M=a,C=o,q=p,R=!1;function j(t){return b(t)===l}e.AsyncMode=S,e.ConcurrentMode=E,e.ContextConsumer=w,e.ContextProvider=x,e.Element=D,e.ForwardRef=k,e.Fragment=I,e.Lazy=O,e.Memo=T,e.Portal=z,e.Profiler=M,e.StrictMode=C,e.Suspense=q,e.isAsyncMode=function(t){return R||(R=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),j(t)||b(t)===c},e.isConcurrentMode=j,e.isContextConsumer=function(t){return b(t)===s},e.isContextProvider=function(t){return b(t)===u},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===n},e.isForwardRef=function(t){return b(t)===f},e.isFragment=function(t){return b(t)===i},e.isLazy=function(t){return b(t)===y},e.isMemo=function(t){return b(t)===d},e.isPortal=function(t){return b(t)===r},e.isProfiler=function(t){return b(t)===a},e.isStrictMode=function(t){return b(t)===o},e.isSuspense=function(t){return b(t)===p},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===i||t===l||t===a||t===o||t===p||t===h||"object"==typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===d||t.$$typeof===u||t.$$typeof===s||t.$$typeof===f||t.$$typeof===_||t.$$typeof===m||t.$$typeof===g||t.$$typeof===v)},e.typeOf=b}()})),B=(V.AsyncMode,V.ConcurrentMode,V.ContextConsumer,V.ContextProvider,V.Element,V.ForwardRef,V.Fragment,V.Lazy,V.Memo,V.Portal,V.Profiler,V.StrictMode,V.Suspense,V.isAsyncMode,V.isConcurrentMode,V.isContextConsumer,V.isContextProvider,V.isElement,V.isForwardRef,V.isFragment,V.isLazy,V.isMemo,V.isPortal,V.isProfiler,V.isStrictMode,V.isSuspense,V.isValidElementType,V.typeOf,g((function(t){"production"===process.env.NODE_ENV?t.exports=$:t.exports=V}))),F=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;function H(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var Y=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,r,i=H(t),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))W.call(n,a)&&(i[a]=n[a]);if(F){r=F(n);for(var u=0;u<r.length;u++)J.call(n,r[u])&&(i[r[u]]=n[r[u]])}}return i},Z="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",G=function(){};if("production"!==process.env.NODE_ENV){var Q=Z,tt={},et=Function.call.bind(Object.prototype.hasOwnProperty);G=function(t){var e="Warning: "+t;"undefined"!=typeof console&&console.error(e);try{throw new Error(e)}catch(t){}}}function nt(t,e,n,r,i){if("production"!==process.env.NODE_ENV)for(var o in t)if(et(t,o)){var a;try{if("function"!=typeof t[o]){var u=Error((r||"React class")+": "+n+" type `"+o+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof t[o]+"`.");throw u.name="Invariant Violation",u}a=t[o](e,o,r,n,null,Q)}catch(t){a=t}if(!a||a instanceof Error||G((r||"React class")+": type specification of "+n+" `"+o+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof a+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),a instanceof Error&&!(a.message in tt)){tt[a.message]=!0;var s=i?i():"";G("Failed "+n+" type: "+a.message+(null!=s?s:""))}}}nt.resetWarningCache=function(){"production"!==process.env.NODE_ENV&&(tt={})};var rt=nt,it=Function.call.bind(Object.prototype.hasOwnProperty),ot=function(){};function at(){return null}"production"!==process.env.NODE_ENV&&(ot=function(t){var e="Warning: "+t;"undefined"!=typeof console&&console.error(e);try{throw new Error(e)}catch(t){}});var ut=function(t,e){var n="function"==typeof Symbol&&Symbol.iterator;var r={array:u("array"),bool:u("boolean"),func:u("function"),number:u("number"),object:u("object"),string:u("string"),symbol:u("symbol"),any:a(at),arrayOf:function(t){return a((function(e,n,r,i,a){if("function"!=typeof t)return new o("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var u=e[n];if(!Array.isArray(u))return new o("Invalid "+i+" `"+a+"` of type `"+c(u)+"` supplied to `"+r+"`, expected an array.");for(var s=0;s<u.length;s++){var l=t(u,s,r,i,a+"["+s+"]",Z);if(l instanceof Error)return l}return null}))},element:a((function(e,n,r,i,a){var u=e[n];return t(u)?null:new o("Invalid "+i+" `"+a+"` of type `"+c(u)+"` supplied to `"+r+"`, expected a single ReactElement.")})),elementType:a((function(t,e,n,r,i){var a=t[e];return B.isValidElementType(a)?null:new o("Invalid "+r+" `"+i+"` of type `"+c(a)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(t){return a((function(e,n,r,i,a){if(!(e[n]instanceof t)){var u=t.name||"<<anonymous>>";return new o("Invalid "+i+" `"+a+"` of type `"+function(t){if(!t.constructor||!t.constructor.name)return"<<anonymous>>";return t.constructor.name}(e[n])+"` supplied to `"+r+"`, expected instance of `"+u+"`.")}return null}))},node:a((function(t,e,n,r,i){return s(t[e])?null:new o("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(t){return a((function(e,n,r,i,a){if("function"!=typeof t)return new o("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var u=e[n],s=c(u);if("object"!==s)return new o("Invalid "+i+" `"+a+"` of type `"+s+"` supplied to `"+r+"`, expected an object.");for(var l in u)if(it(u,l)){var f=t(u,l,r,i,a+"."+l,Z);if(f instanceof Error)return f}return null}))},oneOf:function(t){if(!Array.isArray(t))return"production"!==process.env.NODE_ENV&&(arguments.length>1?ot("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):ot("Invalid argument supplied to oneOf, expected an array.")),at;function e(e,n,r,a,u){for(var s=e[n],c=0;c<t.length;c++)if(i(s,t[c]))return null;var f=JSON.stringify(t,(function(t,e){return"symbol"===l(e)?String(e):e}));return new o("Invalid "+a+" `"+u+"` of value `"+String(s)+"` supplied to `"+r+"`, expected one of "+f+".")}return a(e)},oneOfType:function(t){if(!Array.isArray(t))return"production"!==process.env.NODE_ENV&&ot("Invalid argument supplied to oneOfType, expected an instance of array."),at;for(var e=0;e<t.length;e++){var n=t[e];if("function"!=typeof n)return ot("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+f(n)+" at index "+e+"."),at}return a((function(e,n,r,i,a){for(var u=0;u<t.length;u++){if(null==(0,t[u])(e,n,r,i,a,Z))return null}return new o("Invalid "+i+" `"+a+"` supplied to `"+r+"`.")}))},shape:function(t){return a((function(e,n,r,i,a){var u=e[n],s=c(u);if("object"!==s)return new o("Invalid "+i+" `"+a+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");for(var l in t){var f=t[l];if(f){var p=f(u,l,r,i,a+"."+l,Z);if(p)return p}}return null}))},exact:function(t){return a((function(e,n,r,i,a){var u=e[n],s=c(u);if("object"!==s)return new o("Invalid "+i+" `"+a+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");var l=Y({},e[n],t);for(var f in l){var p=t[f];if(!p)return new o("Invalid "+i+" `"+a+"` key `"+f+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(e[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(t),null,"  "));var h=p(u,f,r,i,a+"."+f,Z);if(h)return h}return null}))}};function i(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function o(t){this.message=t,this.stack=""}function a(t){if("production"!==process.env.NODE_ENV)var n={},r=0;function i(i,a,u,s,c,l,f){if(s=s||"<<anonymous>>",l=l||u,f!==Z){if(e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}if("production"!==process.env.NODE_ENV&&"undefined"!=typeof console){var h=s+":"+u;!n[h]&&r<3&&(ot("You are manually calling a React.PropTypes validation function for the `"+l+"` prop on `"+s+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),n[h]=!0,r++)}}return null==a[u]?i?null===a[u]?new o("The "+c+" `"+l+"` is marked as required in `"+s+"`, but its value is `null`."):new o("The "+c+" `"+l+"` is marked as required in `"+s+"`, but its value is `undefined`."):null:t(a,u,s,c,l)}var a=i.bind(null,!1);return a.isRequired=i.bind(null,!0),a}function u(t){return a((function(e,n,r,i,a,u){var s=e[n];return c(s)!==t?new o("Invalid "+i+" `"+a+"` of type `"+l(s)+"` supplied to `"+r+"`, expected `"+t+"`."):null}))}function s(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(s);if(null===e||t(e))return!0;var r=function(t){var e=t&&(n&&t[n]||t["@@iterator"]);if("function"==typeof e)return e}(e);if(!r)return!1;var i,o=r.call(e);if(r!==e.entries){for(;!(i=o.next()).done;)if(!s(i.value))return!1}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!s(a[1]))return!1}return!0;default:return!1}}function c(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":function(t,e){return"symbol"===t||!!e&&("Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol)}(e,t)?"symbol":e}function l(t){if(null==t)return""+t;var e=c(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function f(t){var e=l(t);switch(e){case"array":case"object":return"an "+e;case"boolean":case"date":case"regexp":return"a "+e;default:return e}}return o.prototype=Error.prototype,r.checkPropTypes=rt,r.resetWarningCache=rt.resetWarningCache,r.PropTypes=r,r};function st(){}function ct(){}ct.resetWarningCache=st;var lt=g((function(t){if("production"!==process.env.NODE_ENV){var e=B;t.exports=ut(e.isElement,!0)}else t.exports=function(){function t(t,e,n,r,i,o){if(o!==Z){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ct,resetWarningCache:st};return n.PropTypes=n,n}()}));function ft(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}ft('/**\n * Draft v0.11.5\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n.DraftEditor-editorContainer,.DraftEditor-root,.public-DraftEditor-content{height:inherit;text-align:initial}.public-DraftEditor-content[contenteditable=true]{-webkit-user-modify:read-write-plaintext-only}.DraftEditor-root{position:relative}.DraftEditor-editorContainer{background-color:rgba(255,255,255,0);border-left:.1px solid transparent;position:relative;z-index:1}.public-DraftEditor-block{position:relative}.DraftEditor-alignLeft .public-DraftStyleDefault-block{text-align:left}.DraftEditor-alignLeft .public-DraftEditorPlaceholder-root{left:0;text-align:left}.DraftEditor-alignCenter .public-DraftStyleDefault-block{text-align:center}.DraftEditor-alignCenter .public-DraftEditorPlaceholder-root{margin:0 auto;text-align:center;width:100%}.DraftEditor-alignRight .public-DraftStyleDefault-block{text-align:right}.DraftEditor-alignRight .public-DraftEditorPlaceholder-root{right:0;text-align:right}.public-DraftEditorPlaceholder-root{color:#9197a3;position:absolute;z-index:1}.public-DraftEditorPlaceholder-hasFocus{color:#bdc1c9}.DraftEditorPlaceholder-hidden{display:none}.public-DraftStyleDefault-block{position:relative;white-space:pre-wrap}.public-DraftStyleDefault-ltr{direction:ltr;text-align:left}.public-DraftStyleDefault-rtl{direction:rtl;text-align:right}.public-DraftStyleDefault-listLTR{direction:ltr}.public-DraftStyleDefault-listRTL{direction:rtl}.public-DraftStyleDefault-ol,.public-DraftStyleDefault-ul{margin:16px 0;padding:0}.public-DraftStyleDefault-depth0.public-DraftStyleDefault-listLTR{margin-left:1.5em}.public-DraftStyleDefault-depth0.public-DraftStyleDefault-listRTL{margin-right:1.5em}.public-DraftStyleDefault-depth1.public-DraftStyleDefault-listLTR{margin-left:3em}.public-DraftStyleDefault-depth1.public-DraftStyleDefault-listRTL{margin-right:3em}.public-DraftStyleDefault-depth2.public-DraftStyleDefault-listLTR{margin-left:4.5em}.public-DraftStyleDefault-depth2.public-DraftStyleDefault-listRTL{margin-right:4.5em}.public-DraftStyleDefault-depth3.public-DraftStyleDefault-listLTR{margin-left:6em}.public-DraftStyleDefault-depth3.public-DraftStyleDefault-listRTL{margin-right:6em}.public-DraftStyleDefault-depth4.public-DraftStyleDefault-listLTR{margin-left:7.5em}.public-DraftStyleDefault-depth4.public-DraftStyleDefault-listRTL{margin-right:7.5em}.public-DraftStyleDefault-unorderedListItem{list-style-type:square;position:relative}.public-DraftStyleDefault-unorderedListItem.public-DraftStyleDefault-depth0{list-style-type:disc}.public-DraftStyleDefault-unorderedListItem.public-DraftStyleDefault-depth1{list-style-type:circle}.public-DraftStyleDefault-orderedListItem{list-style-type:none;position:relative}.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-listLTR:before{left:-36px;position:absolute;text-align:right;width:30px}.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-listRTL:before{position:absolute;right:-36px;text-align:left;width:30px}.public-DraftStyleDefault-orderedListItem:before{content:counter(ol0) ". ";counter-increment:ol0}.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-depth1:before{content:counter(ol1,lower-alpha) ". ";counter-increment:ol1}.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-depth2:before{content:counter(ol2,lower-roman) ". ";counter-increment:ol2}.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-depth3:before{content:counter(ol3) ". ";counter-increment:ol3}.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-depth4:before{content:counter(ol4,lower-alpha) ". ";counter-increment:ol4}.public-DraftStyleDefault-depth0.public-DraftStyleDefault-reset{counter-reset:ol0}.public-DraftStyleDefault-depth1.public-DraftStyleDefault-reset{counter-reset:ol1}.public-DraftStyleDefault-depth2.public-DraftStyleDefault-reset{counter-reset:ol2}.public-DraftStyleDefault-depth3.public-DraftStyleDefault-reset{counter-reset:ol3}.public-DraftStyleDefault-depth4.public-DraftStyleDefault-reset{counter-reset:ol4}');var pt=function(t){p(i,e.Component);var n=m(i);function i(t){var e;return o(this,i),s(v(e=n.call(this,t)),"handleContainerRef",(function(t){e.containerRef=t})),e._timer=null,e}return u(i,[{key:"_update",value:function(){var t=this;this._timer&&clearTimeout(this._timer),this._timer=setTimeout((function(){r.render(t.props.content,t.containerRef,{displayMode:!0})}),0)}},{key:"componentDidMount",value:function(){this._update()}},{key:"componentWillReceiveProps",value:function(t){t.content!==this.props.content&&this._update()}},{key:"componentWillUnmount",value:function(){clearTimeout(this._timer),this._timer=null}},{key:"render",value:function(){var t="div";return this.props.inline&&(t="span"),e.createElement(t,{contentEditable:this.props.contentEditable,className:"".concat(this.props.inline?"inline-katex-wrapper":""),ref:this.handleContainerRef,onClick:this.props.onClick})}}]),i}(),ht=function(t){p(i,e.Component);var n=m(i);function i(t){var e;return o(this,i),(e=n.call(this,t)).state={editMode:!1},e._onClick=function(){e.state.editMode||e.setState({editMode:!0,texValue:e._getValue()},(function(){e._startEdit()}))},e._onValueChange=function(t){var n=t.target.value,i=!1;try{r.__parse(n)}catch(t){i=!0}finally{e.setState({invalidTeX:i,texValue:n})}},e._save=function(){var t=e.props.block.getEntityAt(0),n=e.props.contentState.mergeEntityData(t,{content:e.state.texValue});e.setState({invalidTeX:!1,editMode:!1,texValue:null},e._finishEdit.bind(v(e),n))},e._remove=function(){e.props.blockProps.onRemove(e.props.block.getKey())},e._startEdit=function(){e.props.blockProps.onStartEdit(e.props.block.getKey())},e._finishEdit=function(t){e.props.blockProps.onFinishEdit(e.props.block.getKey(),t)},e}return u(i,[{key:"_getValue",value:function(){return this.props.contentState.getEntity(this.props.block.getEntityAt(0)).getData().content}},{key:"render",value:function(){var t=null,n=this.props.blockProps.readOnly;t=this.state.editMode?this.state.invalidTeX?"":this.state.texValue:this._getValue();var r="TeXEditor-tex";this.state.editMode&&(r+=" TeXEditor-activeTeX");var i=null;if(this.state.editMode){var o="TeXEditor-saveButton";this.state.invalidTeX&&(o+=" TeXEditor-invalidButton"),i=e.createElement("div",{className:"TeXEditor-panel"},e.createElement("textarea",{className:"TeXEditor-texValue",onChange:this._onValueChange,value:this.state.texValue}),e.createElement("div",{className:"TeXEditor-buttons"},e.createElement("button",{className:o,disabled:this.state.invalidTeX,onClick:this._save},this.state.invalidTeX?"Invalid TeX":"Done"),e.createElement("button",{className:"TeXEditor-removeButton",onClick:this._remove},"Remove")))}return e.createElement("div",{className:r,style:{cursor:n?"default":""}},e.createElement(pt,{content:t,onClick:n?void 0:this._onClick}),i)}}]),i}();ft(".pe-spinner,\n.pe-spinner:after {\n\tborder-radius: 50%;\n\twidth: 24px;\n\theight: 24px;\n}\n.pe-spinner {\n\tdisplay: block;\n\tmargin: 10px auto;\n\tfont-size: 10px;\n\tposition: relative;\n\ttext-indent: -9999em;\n\tborder-top: 2px solid rgba(47, 46, 46, 0.2);\n\tborder-right: 2px solid rgba(47, 46, 46, 0.2);\n\tborder-bottom: 2px solid rgba(47, 46, 46, 0.2);\n\tborder-left: 2px solid #000;\n\t-webkit-transform: translateZ(0);\n\t-ms-transform: translateZ(0);\n\ttransform: translateZ(0);\n\t-webkit-animation: pe-spinner-animation 1.1s infinite linear;\n\tanimation: pe-spinner-animation 1.1s infinite linear;\n}\n@-webkit-keyframes pe-spinner-animation {\n\t0% {\n\t\t-webkit-transform: rotate(0deg);\n\t\ttransform: rotate(0deg);\n\t}\n\t100% {\n\t\t-webkit-transform: rotate(360deg);\n\t\ttransform: rotate(360deg);\n\t}\n}\n@keyframes pe-spinner-animation {\n\t0% {\n\t\t-webkit-transform: rotate(0deg);\n\t\ttransform: rotate(0deg);\n\t}\n\t100% {\n\t\t-webkit-transform: rotate(360deg);\n\t\ttransform: rotate(360deg);\n\t}\n}\n\n.pe-try-again-button {\n\tborder: solid 1px;\n\tcolor: #2196f3;\n\tbackground: white;\n\theight: 32px;\n\tpadding: 0 16px;\n\tborder-radius: 4px;\n\tmargin-top: 8px;\n\tcursor: pointer;\n}\n");var dt=function(){return e.createElement("span",{className:"pe-spinner"})},yt=function(t){return e.createElement("button",c({className:"pe-try-again-button"},t))},vt=function(t){p(r,e.Component);var n=m(r);function r(t,e){var i;return o(this,r),s(v(i=n.call(this,t,e)),"handleError",(function(t){i.setState({isLoading:!1,hasError:!0}),i.state.imageKey<5&&(i.timeoutId=setTimeout((function(){i.setState({imageKey:i.state.imageKey+1,hasError:!1,isLoading:!0})}),5e3*i.state.imageKey))})),s(v(i),"handleOnLoad",(function(t){i.setState({isLoading:!1,isLoaded:!0,hasError:!1})})),s(v(i),"retryNow",(function(t){clearTimeout(i.timeoutId),i.setState({imageKey:i.state.imageKey+1,hasError:!1,isLoading:!0})})),i.state={imageKey:1,isLoading:!0,hasError:!1},i}return u(r,[{key:"render",value:function(){var t=this.props.src,n=this.state,r=n.isLoading,i=n.hasError;return e.createElement("div",{style:{textAlign:"center"}},e.createElement("div",null,t?e.createElement(e.Fragment,null,e.createElement("img",{key:this.state.imageKey,onError:this.handleError,onLoad:this.handleOnLoad,alt:"",style:{maxWidth:"100%"},src:t}),r?e.createElement("div",null,e.createElement(dt,null),e.createElement("div",null,"Loading")):null,i?e.createElement("div",null,e.createElement("div",null,"An error occurred while loading image. Please check your internet and try again."),e.createElement(yt,{onClick:this.retryNow},"Try again")):null):e.createElement("span",null,"Image not available")))}}]),r}(),_t=(e.useEffect,e.useRef,e.useState,function(t){p(r,e.Component);var n=m(r);function r(t,e){var i;o(this,r),s(v(i=n.call(this,t,e)),"handleClick",(function(t){i.state.editMode||i.setState({editMode:!0,url:i.props.contentState.getEntity(i.props.block.getEntityAt(0)).getData().url},i.startEdit)})),s(v(i),"finishEdit",(function(t){i.props.blockProps.onFinishEdit(i.props.block.getKey(),t)})),s(v(i),"startEdit",(function(){i.props.blockProps.onStartEdit(i.props.block.getKey())})),s(v(i),"handleSaveClick",(function(t){i.file&&i.uploadImage(i.file)})),s(v(i),"save",(function(t){var e=i.props.block.getEntityAt(0),n=i.props.contentState.mergeEntityData(e,{url:t,file:void 0});i.setState({editMode:!1,url:null},i.finishEdit.bind(v(i),n))})),s(v(i),"cancel",(function(t){i.setState({editMode:!1,url:null},(function(){return i.finishEdit(i.props.contentState)}))})),s(v(i),"remove",(function(t){i.props.blockProps.onRemove(i.props.block.getKey())})),s(v(i),"handleFileChange",(function(t){i.file=t.target.files&&t.target.files[0]?t.target.files[0]:null,i.file&&i.handleSaveClick()})),s(v(i),"randomName",(function(){return function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}()+Date.now()})),s(v(i),"uploadImage",(function(t){var e=i.props.blockProps.getImagePolicy;i.setState({isUploading:!0}),setTimeout((function(){e(t).then((function(e){var n=e.policy;if(e.success){var r=n.url+"/"+n.fields.key,o=new FormData;Object.keys(n.fields).forEach((function(t){var e=n.fields[t];o.append(t,e)})),o.append("file",t),fetch(n.url,{method:"POST",headers:{},body:o}).then((function(){i.save(r),i.setState({isUploading:!1})}))}else i.setState({isUploading:!1}),alert("Some error occurred while uploading image")})).catch((function(t){i.setState({isUploading:!1}),console.log("error occurred",t)}))}),[2e3])})),s(v(i),"handleRef",(function(t){i.inputRef=t}));var a=!t.contentState.getEntity(i.props.block.getEntityAt(0)).getData().url;return i.fileToUpload=t.contentState.getEntity(i.props.block.getEntityAt(0)).getData().file,i.fileToUpload&&(a=!1),i.state={editMode:a,image:"",uploadOnMount:!!i.fileToUpload},i}return u(r,[{key:"componentDidMount",value:function(){this.state.editMode&&this.inputRef&&this.inputRef.click(),this.state.uploadOnMount&&this.uploadImage(this.fileToUpload);var t=this;this.reader=new FileReader,this.reader.addEventListener("load",(function(e){t.save(e.srcElement.result)}),!1)}},{key:"render",value:function(){var t,n=this.state,r=n.editMode,i=n.isUploading,o=this.props.blockProps.readOnly;return t=r?this.state.url:this.props.contentState.getEntity(this.props.block.getEntityAt(0)).getData().url,o?e.createElement(vt,{src:t}):e.createElement("div",{onClick:o?void 0:this.handleClick,style:{cursor:"default",textAlign:"center"}},r?e.createElement("div",null,e.createElement("div",null,"Click here to upload image",e.createElement("input",{ref:this.handleRef,onChange:this.handleFileChange,type:"file",accept:"image/*"})),e.createElement("div",null,e.createElement("button",{disabled:i,onClick:this.handleSaveClick},i?"Saving...":"Save"),e.createElement("button",{onClick:this.cancel},"Cancel"),e.createElement("button",{onClick:this.remove},"Remove"))):null,e.createElement("div",null,t?e.createElement("img",{src:t}):e.createElement("span",null,"No image uploaded")))}}]),r}()),mt=0,gt=["\\int_a^bu\\frac{d^2v}{dx^2}\\,dx\n=\\left.u\\frac{dv}{dx}\\right|_a^b\n-\\int_a^b\\frac{du}{dx}\\frac{dv}{dx}\\,dx","P(E) = {n \\choose k} p^k (1-p)^{ n-k} ","\\tilde f(\\omega)=\\frac{1}{2\\pi}\n\\int_{-\\infty}^\\infty f(x)e^{-i\\omega x}\\,dx","\\frac{1}{(\\sqrt{\\phi \\sqrt{5}}-\\phi) e^{\\frac25 \\pi}} =\n1+\\frac{e^{-2\\pi}} {1+\\frac{e^{-4\\pi}} {1+\\frac{e^{-6\\pi}}\n{1+\\frac{e^{-8\\pi}} {1+\\ldots} } } }"];function bt(t,e){var r=t.getCurrentContent(),i=mt++%gt.length,o=r.createEntity("TOKEN","IMMUTABLE",{content:e||gt[i]}),a=o.getLastCreatedEntityKey(),u=n.EditorState.set(t,{currentContent:o});return n.AtomicBlockUtils.insertAtomicBlock(u,a," ")}function St(t,e){var r=t.getCurrentContent(),i=r.getBlockForKey(e),o=new n.SelectionState({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:i.getLength()}),a=n.Modifier.removeRange(r,o,"backward"),u=n.Modifier.setBlockType(a,a.getSelectionAfter(),"unstyled"),s=n.EditorState.push(t,u,"remove-range");return n.EditorState.forceSelection(s,u.getSelectionAfter())}function Et(t,e){var r=t.getCurrentContent().createEntity("IMAGE","IMMUTABLE",{url:null,file:e}),i=r.getLastCreatedEntityKey(),o=n.EditorState.set(t,{currentContent:r});return n.AtomicBlockUtils.insertAtomicBlock(o,i," ")}var wt=e.createContext({readOnly:!1,changeText:function(){}});ft(".inline-equation-display-wrapper .editable {\n\tposition: relative;\n}\n\n.inline-equation-display-wrapper:hover .inline-equation-popover {\n\tdisplay: inline;\n}\n\n.inline-equation-popover {\n\tposition: absolute;\n\tbottom: 90%;\n\tleft: 0;\n\tz-index: 5;\n\tbackground: white;\n\tpadding: 8px 12px;\n\tborder: solid 1px #333;\n\tcursor: pointer;\n\tdisplay: none;\n}\n\n.pe-portal-root {\n\tposition: fixed;\n\ttop: 0px;\n\tleft: 0px;\n\tright: 0px;\n\tbottom: 0px;\n\tz-index: 999999999;\n\tbackground-color: rgba(0, 0, 0, 0.4);\n\tbackdrop-filter: blur(3px) opacity(0.7);\n}\n\n.pe-portal-cntn {\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\tright: 0px;\n\tbottom: 0px;\n\tz-index: 5;\n\tmargin: auto;\n\toverflow: auto;\n}\n\n.pe-portal-cntrhlpr {\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\tjustify-content: center;\n\tposition: relative;\n\tpadding-top: 10%;\n\tmargin: auto auto 4%;\n}\n\n.pe-portal-styler {\n\tmin-width: 400px;\n\twidth: 100%;\n\tmax-width: 800px;\n\tbackground-color: #fff;\n\tbox-shadow: rgba(0, 0, 0, 0.13) 2px 4px 19px 0px;\n\tborder-radius: 8px;\n\tpadding: 24px;\n}\n\n.pe-portal-textarea {\n\twidth: 100%;\n\tborder: solid 1px #888;\n\tborder-radius: 8px;\n\tpadding: 12px;\n}\n.pe-portal-button {\n\tbox-shadow: none;\n\toutline: none;\n\tborder: solid 1px;\n\theight: 32px;\n\tpadding: 0 12px;\n\tborder-radius: 4px;\n\tmargin: 4px;\n\tcursor: pointer;\n}\n\n.pe-portal-button.submit {\n\tbackground: #1976d2;\n\tborder-color: #1976d2;\n\tcolor: white;\n}\n\n.pe-portal-button.cancel {\n\tbackground-color: white;\n\tcolor: #333;\n}\n\n.pe-portal-error {\n\tcolor: red;\n\ttext-align: center;\n}\n");var xt=/\$(.*?)\$/g,Dt=function(t){p(i,e.Component);var n=m(i);function i(t,e){var r;o(this,i),s(v(r=n.call(this,t,e)),"setValue",(function(t){r.setState({value:t,isValid:r.validate(t,!1)})})),s(v(r),"handleSubmit",(function(){r.props.onChange("$"+r.state.value+"$")}));var a=t.value?t.value.substring(1,t.value.length-1):"";return r.state={isValid:r.validate(a),value:a},r}return u(i,[{key:"validate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=!1;try{r.__parse(t)}catch(t){e=!0}finally{return!e}}},{key:"render",value:function(){var t=this.props,n=t.onCancel,r=(t.onChange,t.value,this.setValue),i=this.state,o=i.value,a=i.isValid;return e.createElement("div",{className:"pe-portal-root"},e.createElement("div",{className:"pe-portal-cntn"},e.createElement("div",{className:"pe-portal-cntrhlpr"},e.createElement("div",{className:"pe-portal-styler"},e.createElement("textarea",{className:"pe-portal-textarea",onFocus:function(t){return t.stopPropagation()},onBlur:function(t){return t.stopPropagation()},type:"text",value:o,onChange:function(t){return r(t.target.value)}}),a?e.createElement(pt,{content:o}):e.createElement("div",{className:"pe-portal-error"},"Invalid Equation"),e.createElement("button",{className:"pe-portal-button cancel",onClick:n},"Cancel"),e.createElement("button",{className:"pe-portal-button submit",onClick:this.handleSubmit},"Change")))))}}]),i}();var kt=function(t){p(r,e.Component);var n=m(r);function r(t,e){var i;return o(this,r),s(v(i=n.call(this,t,e)),"setIsEditing",(function(t){i.setState({isEditing:t})})),i.state={isEditing:!1},i}return u(r,[{key:"render",value:function(){var t=this.props,n=t.blockKey,r=(t.contentState,t.decoratedText),i=t.children,o=t.start,a=t.end,u=(this.state.isEditing,this.setIsEditing,this.context),s=u.readOnly,c=u.openInlineEquationEditor,l=u.changeText,f=new RegExp(xt).exec(r),p=(f&&f[1],e.createElement(pt,{inline:!0,content:r.substring(1,r.length-1)}));return e.createElement("span",{style:{backgroundColor:"",display:"inline-block"}},s?p:e.createElement("span",{className:"inline-equation-display-wrapper"+(s?" readonly":" editable")},p,s?null:e.createElement("div",{className:"inline-equation-popover"},e.createElement("button",{onClick:function(t){t.stopPropagation(),t.preventDefault(),c(n,o,a,r)},className:"inline-equation-popover-button"},"Edit"),e.createElement("button",{onClick:function(t){t.stopPropagation(),t.preventDefault(),l(n,o,a,"")},className:"inline-equation-popover-button"},"Remove"))),e.createElement("span",{style:{width:"0",height:0,overflow:"hidden",display:"inline-block"}},i))}}]),r}();s(kt,"contextType",wt);var It={strategy:function(t,e,n){return function(t,e,n){for(var r,i,o=e.getText();null!==(r=t.exec(o));)n(i=r.index,i+r[0].length)}(new RegExp(xt),t,e)},component:kt},Ot=new n.CompositeDecorator([It]),Tt=function(){return e.createElement("span",null,"Hello")},zt=function(t){return e.createElement("button",c({tabIndex:-1},t))};ft(".prepleaf-editor {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1;\n\talign-items: center;\n\tmargin: 5px auto;\n}\n\n.prepleaf-editor *:after,\n.prepleaf-editor *:before,\n.prepleaf-editor *,\n.prepleaf-editor {\n\tbox-sizing: border-box;\n}\n\n.TeXEditor-toolbar {\n\tdisplay: flex;\n\twidth: 100%;\n\tborder-left: solid 1px #999;\n\tborder-top: solid 1px #999;\n\tborder-right: solid 1px #999;\n\tjustify-content: space-between;\n}\n\n.TeXEditor-toolbar .TeXEditor-toolbar-list {\n\tdisplay: flex;\n}\n.TeXEditor-insert-button {\n\tborder: none;\n\tcolor: #333;\n\tpadding: 8px 16px;\n\tborder-right: solid 1px #999;\n}\n.TeXEditor-insert-button.hidden {\n\tdisplay: none;\n}\n\n.TeXEditor-root {\n\tfont-family: 'Century Schoolbook', serif;\n\t-webkit-font-smoothing: antialiased;\n\tmargin: 0 auto;\n\tflex: 1;\n\twidth: 100%;\n}\n\n.TeXEditor-editor {\n\tcursor: text;\n\tfont-size: 18px;\n\tmin-height: 40px;\n\tpadding: 5px;\n}\n\n.TeXEditor-button {\n\tmargin-top: 10px;\n\ttext-align: center;\n}\n\n.TeXEditor-handle {\n\tcolor: rgba(98, 177, 254, 1);\n\tdirection: ltr;\n\tunicode-bidi: bidi-override;\n}\n\n.TeXEditor-hashtag {\n\tcolor: rgba(95, 184, 138, 1);\n}\n\n.TeXEditor-tex {\n\tbackground-color: #fff;\n\tcursor: pointer;\n\tmargin: 0px auto;\n\tpadding: 0px;\n\t-webkit-transition: background-color 0.2s fade-in-out;\n\tuser-select: none;\n\t-webkit-user-select: none;\n}\n\n.TeXEditor-activeTeX {\n\tcolor: #888;\n}\n\n.TeXEditor-panel {\n\tfont-family: 'Helvetica', sans-serif;\n\tfont-weight: 200;\n}\n\n.TeXEditor-panel .TeXEditor-texValue {\n\tborder: 1px solid #e1e1e1;\n\tdisplay: block;\n\tfont-family: 'Inconsolata', 'Menlo', monospace;\n\tfont-size: 14px;\n\theight: 110px;\n\tmargin: 20px auto 10px;\n\toutline: none;\n\tpadding: 14px;\n\tresize: none;\n\t-webkit-box-sizing: border-box;\n\twidth: 500px;\n}\n\n.TeXEditor-buttons {\n\ttext-align: center;\n}\n\n.TeXEditor-saveButton,\n.TeXEditor-removeButton {\n\tbackground-color: #fff;\n\tborder: 1px solid #0a0;\n\tcursor: pointer;\n\tfont-family: 'Helvetica', 'Arial', sans-serif;\n\tfont-size: 16px;\n\tfont-weight: 200;\n\tmargin: 10px auto;\n\tpadding: 6px;\n\t-webkit-border-radius: 3px;\n\twidth: 100px;\n}\n\n.TeXEditor-removeButton {\n\tborder-color: #aaa;\n\tcolor: #999;\n\tmargin-left: 8px;\n}\n\n.TeXEditor-invalidButton {\n\tbackground-color: #eee;\n\tborder-color: #a00;\n\tcolor: #666;\n}\n\n.TeXEditor-insert {\n\tbackground-color: #f1f1f1;\n\tborder: 1px solid #ccc;\n\tborder-radius: 3px;\n\tmargin-left: 5px;\n}\n\n.inline-katex-wrapper .katex-display {\n\tdisplay: inline-block;\n\tmargin-top: 4px;\n\tmargin-bottom: 4px;\n}\n");var Mt={super:{verticalAlign:"super",fontSize:".8rem"},sub:{verticalAlign:"sub",fontSize:"0.8rem"},equation:{marginLeft:"1px",marginRight:"1px",fontStyle:"italic"}},Ct=n.KeyBindingUtil.hasCommandModifier,qt=e.createElement("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css",integrity:"sha256-V8SV2MO1FUb63Bwht5Wx9x6PVHNa02gv8BgH/uH3ung=",crossOrigin:"anonymous"}),Rt=function(t){if(120===t.keyCode)return"insert_image";if(Ct(t)){if(188===t.keyCode)return t.preventDefault(),"sub";if(190===t.keyCode)return t.preventDefault(),"super";if(69===t.keyCode)return t.preventDefault(),"equation"}return n.getDefaultKeyBinding(t)},jt=function(t){p(a,e.Component);var r=m(a);function a(t,e){var u;o(this,a),s(v(u=r.call(this,t,e)),"markAsInlineEquation",(function(){var t,e,r,i,o;u.setState({editorState:(t=u.state.editorState,e=t.getSelection(),r=t.getCurrentContent().createEntity("ie","IMMUTABLE",{content:"Hello Wprld!"}),i=r.getLastCreatedEntityKey(),o=n.Modifier.applyEntity(r,e,i),n.EditorState.push(t,o,"apply-entity"))})})),s(v(u),"toggleSuper",(function(t){t.preventDefault(),t.stopPropagation();var e=u.state.editorState;u._toggleName(e,"super")})),s(v(u),"toggleSub",(function(){var t=u.state.editorState;u._toggleName(t,"sub")})),s(v(u),"toggleEquation",(function(){var t=u.state.editorState;u._toggleName(t,"equation")})),s(v(u),"_insertImage",(function(){u.setState({imageEdits:S(),editorState:Et(u.state.editorState)})})),s(v(u),"_blockRenderer",(function(t){var e=u.props,r=e.getImagePolicy,i=e.readOnly;if("atomic"===t.getType()){var o=u.state.editorState.getCurrentContent().getEntity(t.getEntityAt(0)).getType();if("TOKEN"===o)return{component:ht,editable:!1,props:{onStartEdit:function(t){var e=u.state.liveTeXEdits;u.setState({liveTeXEdits:e.set(t,!0)})},onFinishEdit:function(t,e){var r=u.state.liveTeXEdits;u.setState({liveTeXEdits:r.remove(t),editorState:n.EditorState.createWithContent(e,Ot)})},onRemove:function(t){return u._removeTeX(t)},readOnly:i}};if("IMAGE"===o)return{component:_t,editable:!1,props:{onStartEdit:function(t){var e=u.state.imageEdits;u.setState({imageEdits:e.set(t,!0)})},onFinishEdit:function(t,e){var r=u.state.imageEdits;u.setState({imageEdits:r.remove(t),editorState:n.EditorState.createWithContent(e,Ot)})},onRemove:function(t){return u._removeTeX(t)},getImagePolicy:r,readOnly:i}};if("ie"===o)return{component:Tt}}else t.getType();return null})),s(v(u),"refreshPasteEquationFlag",(function(){"inline"===window.localStorage.getItem("pasteEquationFlag")?u.setState({pasteEquationInline:!0}):u.setState({pasteEquationInline:!1})})),s(v(u),"handlePasteEquationFlagChange",(function(t){window.localStorage.setItem("pasteEquationFlag",t.target.checked?"inline":"block"),u.refreshPasteEquationFlag()})),s(v(u),"changeText",(function(t,e,r,i){var o=u.state.editorState,a=n.SelectionState.createEmpty(t).merge({anchorOffset:e,focusOffset:r}),s=n.Modifier.replaceText(o.getCurrentContent(),a,i),c=n.EditorState.createWithContent(s,Ot);u.setState({editorState:c,editInlineEquation:void 0})})),s(v(u),"handleEditorRef",(function(t){u.editorRef=t}));var c,l,p=t.rawContent;void 0===p?c=n.EditorState.createEmpty(Ot):(l="object"===i(p)?f({entityMap:{},blocks:[]},p):f({entityMap:{},blocks:[]},JSON.parse(p)),c=n.EditorState.createWithContent(n.convertFromRaw(l),Ot));return u.state={editorState:c,liveTeXEdits:S(),imageEdits:S(),pasteEquationInline:!1},u._focus=function(){return u.editorRef.focus()},u._onChange=function(t){return u.setState({editorState:t})},u._toggleName=function(t,e){u._onChange(n.RichUtils.toggleInlineStyle(t,e))},u._handleKeyCommand=function(t,e){if(["super","sub"].indexOf(t)>-1)return u._toggleName(e,t),!0;"equation"===t&&u.markAsInlineEquation(),"insert_image"===t&&u._insertImage();var r=n.RichUtils.handleKeyCommand(e,t);return!!r&&(u._onChange(r),!0)},u._removeTeX=function(t){var e=u.state,n=e.editorState,r=e.liveTeXEdits,i=e.imageEdits;u.setState({liveTeXEdits:r.remove(t),imageEdits:i.remove(t),editorState:St(n,t)})},u._insertTeX=function(){u.setState({liveTeXEdits:S(),editorState:bt(u.state.editorState)})},u}return u(a,[{key:"resetEditor",value:function(){var t=n.EditorState.createEmpty();this.setState({editorState:t,liveTeXEdits:S()})}},{key:"componentDidMount",value:function(){var t=this.props.customRef;t&&t(this),this.refreshPasteEquationFlag()}},{key:"componentWillUnmount",value:function(){var t=this.props.customRef;t&&t(null)}},{key:"render",value:function(){var t=this,r=this.props.readOnly,i=this.state.pasteEquationInline;return r?e.createElement("div",null,qt,e.createElement(wt.Provider,{value:this.contextValue},e.createElement(n.Editor,{customStyleMap:Mt,blockRendererFn:this._blockRenderer,editorState:this.state.editorState,handleKeyCommand:this._handleKeyCommand,keyBindingFn:Rt,onChange:this._onChange,readOnly:r||this.state.liveTeXEdits.count()||this.state.imageEdits.count(),ref:this.handleEditorRef,spellCheck:!0}))):e.createElement("div",{className:"prepleaf-editor"},qt,e.createElement("div",{className:"TeXEditor-toolbar"},e.createElement("div",{className:"TeXEditor-toolbar-list"},e.createElement(zt,{onMouseDown:this.toggleEquation,className:"TeXEditor-insert-button hidden"},"inline equation"),e.createElement(zt,{onMouseDown:this.toggleSub,className:"TeXEditor-insert-button"},"X",e.createElement("sub",null,"2")),e.createElement(zt,{onMouseDown:this.toggleSuper,className:"TeXEditor-insert-button"},"X",e.createElement("sup",null,"2")),e.createElement(zt,{onMouseDown:this._insertTeX,className:"TeXEditor-insert-button"},"Equation"),e.createElement(zt,{onMouseDown:this._insertImage,className:"TeXEditor-insert-button"},"Image")),e.createElement("div",null,this.state.editInlineEquation?e.createElement(Dt,{value:this.state.editInlineEquation.text,onCancel:function(){return t.setState({editInlineEquation:void 0})},onChange:function(e){t.changeText(t.state.editInlineEquation.blockKey,t.state.editInlineEquation.start,t.state.editInlineEquation.end,e)}}):null,e.createElement("div",{style:{}},e.createElement("label",null,e.createElement("input",{checked:i,onChange:this.handlePasteEquationFlagChange,type:"checkbox"}),"Paste Equation Inline")),e.createElement("div",{style:{display:"none"}},"For inline eqn use $equatoin in here$: $\\frac","{2}{3}$"))),e.createElement("div",{className:"TeXEditor-root"},e.createElement("div",{className:"TeXEditor-editor",style:{border:"solid 1px #777"},onClick:this._focus},e.createElement(wt.Provider,{value:this.contextValue},e.createElement(n.Editor,{handlePastedFiles:function(e){var n=t.state.editorState;return t.setState({editorState:Et(n,e[0])}),"handled"},handleDroppedFiles:function(e,r){var i=n.EditorState.acceptSelection(t.state.editorState,e);return t.setState({editorState:Et(i,r[0])}),"handled"},handlePastedText:function(e,r,o){if(0===e.indexOf("$$")&&e.substring(e.length-2)){if(i){var a=function(t,e){var r=t.getSelection(),i=t.getCurrentContent(),o=n.Modifier.replaceText(i,r,e);return n.EditorState.push(t,o,"insert-characters")}(o,e.substring(1,e.length-1)+" ");return t.setState({editorState:a}),"handled"}var u=e.substring(2,e.length-2);return t.setState({editorState:bt(o,u)}),"handled"}return"not-handled"},customStyleMap:Mt,blockRendererFn:this._blockRenderer,editorState:this.state.editorState,handleKeyCommand:this._handleKeyCommand,keyBindingFn:Rt,onChange:this._onChange,placeholder:"Start a document...",readOnly:r||this.state.liveTeXEdits.count()||this.state.imageEdits.count(),ref:this.handleEditorRef,spellCheck:!0})))))}},{key:"value",get:function(){var t=this.state.editorState;return{rawContent:n.convertToRaw(t.getCurrentContent())}}},{key:"contextValue",get:function(){var t=this;return{openInlineEquationEditor:function(e,n,r,i){t.setState({editInlineEquation:{blockKey:e,start:n,end:r,text:i}})},changeText:this.changeText,readOnly:this.props.readOnly}}}]),a}();jt.propTypes={readOnly:lt.bool.isRequired},jt.defaultProps={readOnly:!1},exports.TeXEditor=jt,exports.default=jt;
